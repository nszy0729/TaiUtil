# Tai Util - Discord音声読み上げBot

## 概要
「Tai Util」はDiscordメッセージを音声で読み上げるBotです。テキストチャンネルを指定すると、そのチャンネルに投稿されるメッセージを自動的に読み上げます。複数の言語に対応し、読み上げ速度も調整できます。読み上げの内容はメッセージの本文のみで、送信者の名前などは含みません。

## 主な機能

### 1. チャンネルの自動読み上げ
- テキストチャンネルを指定して監視開始
- 指定したチャンネルに投稿されたメッセージを自動的に読み上げ
- 読み上げるのはメッセージの本文のみ（送信者名などは読み上げません）
- 読み上げ中はボイスチャンネルに接続したまま維持（メッセージごとに接続・切断を繰り返さない）
- 読み上げ停止時にボイスチャンネルから自動退席

### 2. 複数言語対応
- 日本語（デフォルト）
- 英語
- 中国語
- 韓国語

### 3. 読み上げ速度の調整
- 0.25倍～4.0倍の範囲で調整可能
- デフォルトは1.0倍（標準速度）

## 使い方

### チャンネルの読み上げを開始する
1. Discordでボイスチャンネルに接続します
2. `/listen` コマンドを入力します
3. `channel` パラメータで読み上げ対象のテキストチャンネルを選択します
4. 必要に応じて `language` パラメータで言語を選択します
5. コマンド実行時にボイスチャンネルに接続していれば、Botがそのボイスチャンネルに自動的に参加します
6. 指定したチャンネルに投稿されるメッセージが自動的に読み上げられます
7. Botは読み上げが必要な間はボイスチャンネルに接続したまま維持します

### チャンネルの読み上げを停止する
1. `/stop` コマンドを入力します
2. `channel` パラメータで読み上げを停止するチャンネルを選択します
3. そのサーバー内に他に読み上げ対象のチャンネルがない場合、Botはボイスチャンネルから退席します
4. 他に読み上げ対象のチャンネルがある場合は、Botはボイスチャンネルに接続したまま維持します

### 個別のメッセージを読み上げる
1. ボイスチャンネルに接続します
2. `/speak` コマンドを入力します
3. `message` パラメータに読み上げたいテキストを入力します
4. 必要に応じて `language` パラメータで言語を選択します
5. コマンド実行時にボイスチャンネルに接続していない場合は、読み上げが行われません

### 読み上げ速度を変更する
1. `/speed` コマンドを入力します
2. `rate` パラメータに希望する速度を設定します（0.25～4.0の範囲）
3. 設定した速度は、次回以降の読み上げに自動的に適用されます

## 技術情報

### 音声処理
- Google Cloud Text-to-Speech APIを使用
- 環境は鈴木GCPプロジェクト「Discord Bot」のサービスアカウントで認証

### 必要な権限
- メッセージを読む (Read Messages/View Channels)
- メッセージを送信 (Send Messages)
- 埋め込みリンク (Embed Links)
- ファイルを添付 (Attach Files)
- アプリケーションコマンドを使用 (Use Application Commands)
- ボイスチャンネルに接続 (Connect)
- ボイスチャンネルで発言 (Speak)

## 起動方法

```
npm start
```

または

```
node index.js
```
